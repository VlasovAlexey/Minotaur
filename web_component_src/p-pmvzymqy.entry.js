import{r as e,h as t,g as s}from"./p-416d80af.js";import{m as i}from"./p-ede9ed58.js";class a{constructor(t){e(this,t),this.services=null,this.buttonLabel="",this.delimiter="",this.disabled=!0,this.text="",i.addListener(this)}async servicesUpdated(){this.disabled=!this.services||!this.services.uartService}handleKey(e){13==e.keyCode?this.sendText():this.text=e.target.value}async sendText(){const e=`${this.text}${this.delimiter}`;await this.services.uartService.sendText(e)}render(){let e;return this.buttonLabel&&(e=t("input",{type:"submit",disabled:this.disabled,value:this.buttonLabel,onClick:()=>this.sendText()})),t("span",null,t("input",{type:"text",disabled:this.disabled,maxLength:20,onKeyUp:e=>this.handleKey(e)}),e)}get el(){return s(this)}static get watchers(){return{services:["servicesUpdated"]}}}export{a as microbit_send};