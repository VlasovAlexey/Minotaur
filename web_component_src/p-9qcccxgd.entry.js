import{r as e,h as t,g as s}from"./p-416d80af.js";import{m as r}from"./p-ede9ed58.js";class i{constructor(t){e(this,t),this.services=null,this.bearing=0,r.addListener(this)}async servicesUpdated(){if(!this.services||!this.services.magnetometerService)return;const e=this.services.magnetometerService;await e.addEventListener("magnetometerbearingchanged",e=>this.bearing=e.detail),this.bearing=await e.readMagnetometerBearing()}render(){return t("span",{style:{position:"absolute",transform:`rotate(${this.bearing}deg)`}},t("slot",null))}get el(){return s(this)}static get watchers(){return{services:["servicesUpdated"]}}}export{i as microbit_compass};